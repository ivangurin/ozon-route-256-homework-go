# Домашнее задание седьмой недели

Дедлайн: 20 апреля, 23:59 (сдача) 
Дедлайн для проверки: 23 апреля, 23:59 (проверка)

## Основное задание

- Покрыть loms и cart метриками (RED):
    - Рекомендуется переиспользование функций во избежание копипасты. В первую очередь покрыть надо gRPC взаимодействие
    - Кол-во запросов (все ручки)
    - Время исполнения запросов (все ручки) + статус исполнения запросов – статус код, очищенный url
    - Кол-во запросов во внешние ресурсы
    - Время исполнения запросов во внешние ресурсы + статус их исполнения – статус код + очищенный url
    - Кол-во запросов в базу (все запросы) – категория запроса (select, update, delete)
    - Время исполнения запросов + статус запросов в базу (все запросы) – ошибка, категория запроса (select, update, delete)
- Трейсинг во всей цепочке сервисов
- Все логи необходимо перевести на структурированные и корректно расставить им уровень
- Сделать make таргет, поднимающий инфраструктуру для мониторинга
    - Prometheus с настроенными таргетами в docker compose
    - Grafana, с настроенным prometheus
    - Jaeger, для сбора трейсинга
- Трейсинг необходимо завести в jaeger и предоставить тьютору скриншот с записанным трейсом

## Дополнительное задание (на 10 баллов)

- Лог включают в себя имя сервиса, таймстемп лога, trace_id и span_id исполняемого запроса
- Сделать сквозной трейсинг через kafka